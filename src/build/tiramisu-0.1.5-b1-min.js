(function(c){function b(){this.version="0.1.5-b1";this.d=document;this.selector="QSA";this.requestAnimFrame=(function(){return c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(f,d){c.setTimeout(f,1000/60)}})();this.modules=b.prototype}c.tiramisu=c.t=new b();Event.prototype.preventDefault=function(){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}};var a={};tiramisu.modules.make=function(d){return t.get(t.d.createElement(d))}})(window);tiramisu.modules.task=function(f,b){var a={dependencies:null};var d,g=t.requestAnimFrame;if(arguments.length>2){d=arguments[1];b=arguments[2]}var j=+new Date(),h=d;function c(){var k=+new Date()-j;if(d!==undefined){if(k>h){h+=d;b()}}if(k<f||(f=="loop"&&d!==undefined)){g(c)}else{if(d===undefined){b()}}}c()};tiramisu.modules.get=function(x){function m(E,F,B){if(u[0]===undefined){return""}var D,C,G,z=[];var A=t.d.createElement("div");var H=t.d.createDocumentFragment();for(D=0;D<o;D++){if(typeof E==="string"){A.innerHTML=E;z=A.children}else{if(typeof E.css==="function"){z.push(E[0])}else{z.push(E)}}G=u[D].parentNode;for(C=0;C<z.length;C++){if(F){H.insertBefore(z[C],H.firstChild)}else{H.appendChild(z[C])}}if(F){(B)?u[D].insertBefore(H,u[D].firstChild):G.insertBefore(H,u[D])}else{(B)?u[D].appendChild(H):G.insertBefore(H,u[D].nextSibling)}}}function w(A){var B=[];for(var z=A.length;z--;){B[z]=A[z]}return B}var h=function(A,B,z){if(A.addEventListener){h=function(D,E,C){D.addEventListener(E,C,false)}}else{h=function(D,E,C){D.attachEvent("on"+E,C)}}h(A,B,z)};var p=function(A,B,z){if(A.removeEventListener){p=function(D,E,C){D.removeEventListener(E,C,false)}}else{p=function(D,E,C){D.detachEvent("on"+E,C)}}p(A,B,z)};var k={nl:"\n|\r\n|\r|\f",nonascii:"[^\0-\177]",unicode:"\\[0-9A-Fa-f]{1,6}(\r\n|[s\n\r\t\f])?",escape:"#{unicode}|\\[^\n\r\f0-9A-Fa-f]",nmchar:"[_A-Za-z0-9-]|#{nonascii}|#{escape}",nmstart:"[_A-Za-z]|#{nonascii}|#{escape}",ident:"[-@]?(#{nmstart})(#{nmchar})*",name:"(#{nmchar})+"};var l={"id and name":"(#{ident}##{ident})",id:"(##{ident})","class":"(\\.#{ident})","name and class":"(#{ident}\\.#{ident})",element:"(#{ident})","pseudo class":"(:#{ident})"};function v(z){return z.replace(/^\s+|\s+$/g,"").replace(/[ \t\r\n\f]+/g," ")}var d=function(){function A(G,F){var D=true,E;while(D){E=G.match(/#\{([^}]+)\}/);if(E&&E[1]){G=G.replace(new RegExp("#{"+E[1]+"}","g"),F[E[1]]);D=true}else{D=false}}return G}function z(D){return D.replace(/\//g,"//")}function C(){var E,H,D={},F,G;if(arguments.length===2){G=arguments[0];F=arguments[1]}else{G=arguments[0];F=arguments[0]}for(E in F){H=z(A(F[E],G));D[E]=H}return D}function B(D){var F=[],E;for(E in D){F.push(D[E])}return new RegExp(F.join("|"),"g")}return B(C(C(k),l))};var n={byAttr:function(D,B,C){var A,z=[];for(A in D){if(D[A]&&D[A][B]===C){z.push(D[A])}}return z}};var q={byId:function(z,A){return(z)?[z.getElementById(A)]:[]},byNodeName:function(z,D){if(z===null){return[]}var C,B=[],A=z.getElementsByTagName(D);for(C=0;C<A.length;C++){B.push(A[C])}return B},byClassName:function(z,D){if(z===null){return[]}var C,B=[],A=z.getElementsByTagName("*");for(C=0;C<A.length;C++){if(A[C].className.match("\\b"+D+"\\b")){B.push(A[C])}}return B}};var g={id:function(A,z){z=z.split("#")[1];return q.byId(A,z)},"name and id":function(A,z){var C=z.split("#"),B=C[0],D=C[1];return n.byAttr(q.byId(A,D),"nodeName",B.toUpperCase())},name:function(A,z){return q.byNodeName(A,z)},"class":function(A,z){z=z.split(".")[1];return q.byClassName(A,z)},"name and class":function(A,z){var D=z.split("."),B=D[0],C=D[1];return n.byAttr(q.byClassName(A,C),"nodeName",B.toUpperCase())}};var c={id:function(A,z){z=z.split("#")[1];return A&&A.id===z},name:function(z,A){return z.nodeName===A.toUpperCase()},"name and id":function(A,z){return c.id(A,z)&&c.name(A,z.split("#")[0])},"class":function(A,z){if(A&&A.className){z=z.split(".")[1];return A.className.match("\\b"+z+"\\b")}},"name and class":function(A,z){return c["class"](A,z)&&c.name(A,z.split(".")[0])}};function r(z,A){this.identity=z;this.finder=A}r.prototype.toString=function(){return"identity: "+this.identity+", finder: "+this.finder};function f(z){this.selector=v(z);this.tokens=[];this.tokenize()}f.prototype.tokenize=function(){var z,A,B;A=d();A.lastIndex=0;while(z=A.exec(this.selector)){B=null;if(z[10]){B="id"}else{if(z[1]){B="name and id"}else{if(z[15]){B="class"}else{if(z[20]){B="name and class"}else{if(z[29]){B="name"}}}}}this.tokens.push(new r(z[0],B))}return this.tokens};function j(z,A){this.root=z;this.key_selector=A.pop();this.tokens=A;this.results=[]}j.prototype.find=function(z){if(!g[z.finder]){throw new Error("Invalid Finder: "+z.finder)}return g[z.finder](this.root,z.identity)};j.prototype.matchesToken=function(A,z){if(!c[z.finder]){throw new Error("Invalid Matcher: "+z.finder)}return c[z.finder](A,z.identity)};j.prototype.matchesAllRules=function(C){if(this.tokens.length===0){return}var B=this.tokens.length-1,A=this.tokens[B],z=false;while(B>=0&&C){if(this.matchesToken(C,A)){z=true;B--;A=this.tokens[B]}C=C.parentNode}return z&&B<0};j.prototype.parse=function(){var B,A,C=this.find(this.key_selector),z=[];for(B=0;B<C.length;B++){A=C[B];if(this.tokens.length>0){if(this.matchesAllRules(A.parentNode)){z.push(A)}}else{if(this.matchesToken(A,this.key_selector)){z.push(A)}}}return z};var u;if(typeof x==="string"){if(t.modules.detect("querySelectorAll")){u=w(t.d.querySelectorAll(x))}else{var a=new f(x);Tiramisu.prototype.tokenize=new f(x);var b=new j(document,a.tokens),u=b.parse()}}else{u=[x]}var o=u.length;var y={each:function(z){var A;for(A=0;A<u.length;A++){z.apply(u[A])}return this},on:function(A,z){if(u[0]===undefined||arguments.length>2){return""}var D=1,C=[],E=[];if(typeof(A)==="string"){C[0]=A;E[0]=z}else{if(typeof(A)==="object"){if(typeof(A[0])==="string"){C=A;E[0]=z}else{for(key in A){D=C.push(key);E.push(A[key])}}}}for(var B=D;B--;){var z=E[B];for(i=o;i--;){h(u[i],C[B],z)}if(typeof x==="string"){local_event[x]={};local_event[x]={cb:z,element:u}}}return this},off:function(B){if(u[0]===undefined||arguments.length>1){return""}if(typeof x==="string"){if(local_event[x]!==undefined){var A=local_event[x]["cb"],C=local_event[x]["element"],z=C.length;for(i=z;i--;){p(u[i],B,A)}delete local_event[x]}}return this},before:function(z){m(z,true,false);return this},after:function(z){m(z,false,false);return this},append:function(z){m(z,false,true);return this},prepend:function(z){m(z,true,true);return this},css:function(E){var C,B,A=t.detect("browser"),D=t.detect("isIEolder"),F=t.detect("isIE");var z={opacity:function(H,G){if(G!==undefined){if(F){H.style.opacity=G;H.style.filter="alpha(opacity="+G*100+")"}else{H.style.opacity=G}}else{return H.style.opacity}},"border-radius":function(H,G){if(G){if(A==="f3"){H.style.MozBorderRadius=G}}else{if(A==="f3"){return H.style.MozBorderRadius}else{if(A==="ie9+"){return H.style.borderRadius}}}}};if(typeof(E)==="string"){if(F||A==="f3"){if(E=="border-radius"){return z[E](u[0])}return u[0].style[E]}return u[0].style[E]}for(C=o;C--;){for(B in E){if(E.hasOwnProperty(B)){if(F||A==="f3"){if(z[B]!==undefined){z[B](u[C],E[B])}else{u[C].style[B]=E[B]}}else{u[C].style.setProperty(B,E[B],"")}}}}return this},html:function(z){if(z!==undefined){u[0].innerHTML=z}else{return u[0].innerHTML}return this},value:function(C){var A=function(D){if(t.detect("isIE")||t.detect("isIEolder")){if(u[D].type=="select-one"){return u[D].options[u[D].selectedIndex].value}return u[D].value}return u[D].value};var B=function(D,E){if(t.detect("isIE")||t.detect("isIEolder")){if(u[D].type=="select-one"){u[D].options[u[D].selectedIndex].value=E}u[D].value=E}else{u[D].value=E}};if(u[0]===undefined){return""}if(C!==undefined){B(0,C)}else{if(o>1){var z=[];for(i=0;i<o;i++){z.push(A(i))}return z}return A(0)}},focus:function(){if(u[0]===undefined){return""}for(var z=o;z--;){u[z].focus()}},attr:function(z,B,C){for(var A=o;A--;){if(B!==undefined){if(z==="class"){if(C){u[A].className=u[A].className+" "+B}else{u[A].className=B}}else{u[A].setAttribute(z,B)}}else{if(z==="class"){return u[A].className}else{return u[A].getAttribute(z)}}}return this},index:function(A){if(A!==undefined){for(var z=o;z>=0;z--){if(u[z]===A){break}}return z}},filter:function(z){if(u[0]===undefined){return""}var B={":odd":function(C){return(C%2!==0)?true:false},":even":function(C){return(C%2===0)?true:false}};if(typeof z==="string"&&typeof B[z]==="function"){for(var A=o;A--;){!B[z](A)&&u.splice(A,1)}}else{if(typeof z==="function"){for(var A=o;A--;){!z(A)&&u.splice(A,1)}}}o=u.length;return this},empty:function(){if(u[0]===undefined){return""}for(var z=0;z<o;z++){var B=u[z].childNodes[0];while(B){var A=B.nextSibling;u[z].removeChild(B);B=A}}},destroy:function(D){if(u[0]===undefined){return""}if(D!==undefined&&typeof D==="string"){var B=t.get(x+" "+D),z=B.length;for(var A=z;A--;){var C=B[A].parentNode;C.removeChild(B[A])}}else{for(A=o;A--;){var C=u[A].parentNode;C.removeChild(u[A])}}return this},removeClass:function(E){if(u[0]===undefined){return""}var B,A,G,D=false;if(E===":all"){E=undefined;var D=true}if(E!==undefined&&typeof E==="string"){var C=new RegExp("(\\s|^)"+E+"(\\s|$)");for(B=o;B--;){G=u[B].className.replace(C,"");u[B].className=G}}else{for(B=o;B--;){u[B].className="";if(D){var F=u[B].childNodes,z=F.length;if(z>0){(function(L,I){for(var K=I;K--;){L[K].className="";var H=L[K].childNodes,J=H.length;if(J>0){arguments.callee(H,J)}}})(F,z)}}}}return this}};console.log(y);(function s(){var z;for(z in y){u[z]=y[z]}if(typeof(tiramisu.modules.get.methods)!=="undefined"){console.log("Adding some stuff...");for(z in tiramisu.modules.get.methods){u[z]=tiramisu.modules.get.methods[z]}}})();tiramisu.modules.get.results=u;return u};tiramisu.modules.get.methods={ready:function(a){t.d.onreadystatechange=function(){if(t.d.readyState=="complete"){a();return this}}},hello:function(){alert(tiramisu.modules.get.results.html())},set:function(a){tiramisu.modules.get.results[0]=a}};tiramisu.modules.detect=function(c){var a={dependencies:null};var b=navigator.userAgent,f=navigator.appName;var d={browser:function(){if(f==="Netscape"){var h=b.substring(b.indexOf("Firefox"));if(h.split("/")[0]!=="Firefox"){return"webkit"}else{firefox_version=parseInt(h.split("/")[1].split(".")[0]);if(firefox_version>3.8){return"f4+"}return"f3"}}else{if(f=="Opera"){var g=b.substring(b.indexOf("Version")).split("/")[1];if(g.split(".")[1]>49){return"o10.5+"}return"o10.4"}else{if(/MSIE (\d+\.\d+);/.test(b)){var j=new Number(RegExp.$1);if(j>8){return"ie9+"}else{if(j==8){return"ie8"}}return"ie7"}else{return"other"}}}},isIE:function(){return this.browser()==="ie9+"||this.browser()==="ie8"||this.browser()==="ie7"},isIEolder:function(){return this.browser()==="ie8"||this.browser()==="ie7"},isFirefox:function(){return this.browser()==="f3"||this.browser()==="f4+"},isWebkit:function(){return this.browser()==="webkit"},querySelectorAll:function(){return(tiramisu.selector==="QSA"&&typeof tiramisu.d.querySelectorAll!=="undefined")},color:function(){if(this.isIEolder()){return false}return true}};return d[c]()};tiramisu.modules.ajax=function(b){var d={dependencies:["browserdetect","taskengine"]};function f(o,n){for(var p in n){o[p]=n[p]}}var b=b||{},m={abort:false,async:true,content_type:"",connection:"",data_type:"",error:function(n){try{console.log(n)}catch(o){}},start_load:function(){},end_load:function(){},loader:null,method:"GET",parameter:"",success:function(){},successHTML:"",stop:"",url:""},l=null,j="",k=0,h="",a="";if(m.abort){if(l&&l.readyState!=0&&l.readyState!=4){l.abort()}}try{l=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{l=new ActiveXObject("Microsoft.XMLHTTP")}catch(g){l=null}}if(!l&&typeof XMLHttpRequest!="undefined"){l=new XMLHttpRequest}f(m,b);if(m.parameter!=""){for(attrname in m.parameter){j+=attrname+"="+m.parameter[attrname]+"&"}j=j.substring(0,j.length-1);if(m.method==="POST"){if(!m.content_type){m.content_type="application/x-www-form-urlencoded"}}else{a="?"+j}}else{j=null}if(t.detect("isIE")&&m.method==="POST"){h="?"+((""+Math.random()).replace(/\D/g,""))}l.onreadystatechange=function(){var n=l.readyState;if(n==4&&l.responseText){if(m.successHTML){if(typeof(m.successHTML)==="string"){t.d.getElementById(m.successHTML).innerHTML=l.responseText}else{if(typeof(m.successHTML)==="object"){if(typeof(m.successHTML.html)==="function"){m.successHTML.html(l.responseText)}else{m.successHTML.innerHTML=l.responseText}}}}m.end_load();m.success(l.responseText)}else{if(n==4&&l.status==400){m.end_load();m.error("400 Bad Request")}else{if(n==4&&l.status!=200){m.end_load();m.error("Fetched the wrong page or network error")}else{if(m.successHTML&&m.loader){if(typeof(m.successHTML)==="string"){t.d.getElementById(m.successHTML).innerHTML=m.loader}else{if(typeof(m.successHTML)==="object"){if(typeof(m.successHTML.html)==="function"){m.successHTML.html(m.loader)}else{m.successHTML.innerHTML=m.loader}}}}}}}};l.open(m.method,m.url+a+h,m.async);if(m.content_type){l.setRequestHeader("Content-type",m.content_type)}if(m.connection){l.setRequestHeader("Connection",m.connection)}if(m.data_type){l.setRequestHeader("dataType",m.data_type)}l.setRequestHeader("X-Requested-With","XMLHttpRequest");m.start_load();if(m.stop){t.task(m.stop,function(){l.abort()})}l.send(j);return this};